<div id="header" ng-include="'/assets/admin/views/common/header.html'"></div>
<aside id="menu" ng-include="'/assets/admin/views/common/navigation.html'"></aside>

<div id="wrapper" class="animate-panel" data-effect="zomeIn">

  <div class="content">

	<div class="row">
	  <div class="col-lg-12 text-center m-t-md">
		<h2>
      <span translate>SUPPLIERS</span>
		</h2>
		<p>
			{{ currentCurrencies.data.title }}
		</p>
	  </div>
	</div>
	<div class="row">
	  <div class="col-lg-12">
		<div class="hpanel" ng-controller="SuppliersUpdateCtrl">
		  <ul class="nav nav-tabs">
			<li ng-click="TabManager.update($event)" ng-class="{ active: TabManager.state == '#tab-description' }">
			  <a data-toggle="tab" href="#tab-description" aria-expanded="true">
          <span translate>
            DESCRIPTION
          </span>
        </a>
			</li>
      <li ng-click="TabManager.update($event)" ng-class="{ active: TabManager.state == '#tab-notification' }">
        <a data-toggle="tab" href="#tab-currencies" aria-expanded="true">
          <span translate>
            CURRENCIES
          </span>
        </a>
      </li>
		  </ul>

		  <div class="tab-content">

			<div id="#tab-description" class="tab-pane" ng-class="{ active: TabManager.state == '#tab-description' }">
			  <div class="panel-body">
				<form method="get" class="form-horizontal">

				  <div class="form-group">
  					<label for="name-element" class="col-sm-2 control-label font-normal">
              <span translate>
                NAME
              </span>
            </label>
  					<div class="col-sm-10">
  					  <input type="text" class="form-control" id="name-element"
  						ng-trim="false"
  						ng-class="{error: !!Validation['title'].invalidMsg}"
  						ng-model="Validation['title'].value"
  						ng-change="Validation['title'].validate()">

  					  <span class="help-block m-b-none text-danger"
  						ng-show="!!Validation['title'].invalidMsg"
  						ng-bind="Validation['title'].invalidMsg">
  					  </span>
  					</div>
				  </div>

				  <div class="hr-line-dashed"></div>

          <div class="form-group">
  					<label for="name-element" class="col-sm-2 control-label font-normal">
              <span translate>
                INFORMATION
              </span>
            </label>
  					<div class="col-sm-10">
              <textarea ng-trim="false"
              class="form-control"
  						ng-class="{error: !!Validation['info'].invalidMsg}"
  						ng-model="Validation['info'].value"
  						ng-change="Validation['info'].validate()"></textarea>
  					  </span>
  					</div>
				  </div>

				  <div class="hr-line-dashed"></div>

				  <div class="form-group">
					<div class="col-sm-2 col-sm-offset-2">
					  <button type="button" class="btn btn-default"
						ng-click="SuppliersUpdateManager.save()"
						ng-disabled="Validation.errorStack.length || !Validation.changes">
              <span translate>
                SAVE
              </span>
            </button>
					</div>
          <div class="col-sm-2">
            <button type="button" class="btn btn-default"
            ng-click="SuppliersUpdateManager.cancel()">
              <span translate>
                CANCEL
              </span>
            </button>
          </div>
				  </div>
				</form>
			  </div>
			</div>

      <div id="#tab-currencies" class="tab-pane" ng-class="{ active: TabManager.state == '#tab-currencies' }">
        <div class="panel-body">
          <form method="get" class="form-horizontal">
            <div class="form-group" ng-repeat="(key, value) in currencies">
    					<div class="col-sm-2 control-label font-normal text-left">
                  {{ value.title }}
              </div>
    					<div class="col-sm-2">
                <input type="text"
                  ng-change="SuppliersUpdateManager.changeCurrencies(key)"
                  ng-model="currencies[key].rate"
                  class="form-control">
    					</div>
              <div class="col-sm-2">
                <button class="btn btn-default" ng-show="currencies[key].rate != null" ng-click="SuppliersUpdateManager.clearCurrencies(key, currencies[key].id)"><i class="fa fa-trash-o"></i> <span class="bold" translate>CLEAR</span></button>
    					</div>
              <div class="col-sm-6">
    					</div>
  				  </div>

            <div class="hr-line-dashed"></div>

            <div class="form-group">
  					<div class="col-sm-2 col-sm-offset-2">
  					  <button type="button" class="btn btn-default"
  						ng-click="SuppliersUpdateManager.save()"
  						ng-disabled="Validation.errorStack.length || !Validation.changes">
                <span translate>
                  SAVE
                </span>
              </button>
  					</div>
            <div class="col-sm-2">
              <button type="button" class="btn btn-default"
              ng-click="SuppliersUpdateManager.cancel()">
                <span translate>
                  CANCEL
                </span>
              </button>
            </div>
  				  </div>
          </form>
        </div>
      </div>

		  </div>
	  </div>
	</div>
  </div>

  <footer class="footer" ng-include="'/assets/admin/views/common/footer.html'"></footer>

</div>
